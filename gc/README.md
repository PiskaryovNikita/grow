##Garbage collection(GC) tuning

####Serial
1. -Xms и -Xmx можно настроить начальный и максимально допустимый размер кучи соответственно.
2. -XX:MinHeapFreeRatio=? и -XX:MaxHeapFreeRatio=?, которые задают минимальную и максимальную долю свободного места в каждом поколении,     при достижении которой размер поколения будет автоматически увеличен или уменьшен соответственно(чтобы вышеупомянутые условия             были удовлетворены).
3. -XX:NewRatio=? Установить желаемое отношение размера старшего поколения к суммарному размеру регионов младшего поколения
   NewRatio=3 означает, что для младшего поколения (Eden + S0 + S1) будет отведена 1/4 кучи(формула 1/(1+NewRatio) ), а для старшего 3/4.
4. -XX:NewSize=? и -XX:MaxNewSize=? ограничить размер младшего поколения абсолютными величинами снизу и сверху.
   Если вы хотите установить для NewSize и MaxNewSize одинаковые значения, то можно просто использовать опцию -Xmn
   Например, -Xmn256m эквивалентно -XX:NewSize=256m -XX:MaxNewSize=256m
5. -XX:SurvivorRatio=? настроить отношение размера Eden к размерам Survivor. 
   Например, при SurvivorRatio=6 каждый регион Survivor будет занимать одну восьмую размера всего младшего поколения(1/(2+SurvivorRatio) ),        а   Eden — шесть восьмых.
6. -XX:-UseGCOverheadLimit можно отключить порог активности сборщика в 98%, при достижении которого возникает OutOfMemoryError.
7. -XX:+PrintTenuringDistribution Если вам интересно последить за тем, как стареют ваши объекты в регионе Survivor
   и какие целевые значения для его размера установлены в данный момент; добавляет статистику по Survivor к выводу информации о некоторых сборках мусора

####Parallel
Для параллельного сборщика применимы все те же опции, что и для последовательного.
1. -XX:ParallelGCThreads=? указать количество потоков, которое хотели бы выделить для сборки мусора. 
   Имейте в виду, что увеличение количества потоков не только сильнее распараллеливает сборку, но и увеличивает фрагментацию региона              Tenured, а также добавляет накладные расходы на синхронизацию этих потоков.
2. -XX:-UseParallelOldGC При желании вы можете полностью отключить параллельные работы по уплотнению объектов в старшем поколении
3. -XX:MaxGCPauseMillis=? и -XX:GCTimeRatio=? Установка желаемых параметров производительности сборщика
   устанавливает ограничение на максимальное время приостановки программы для сборки мусора.
   Например, -XX:MaxGCPauseMillis=400, укажет JVM, что паузы на сборку мусора желательно не затягивать дольше, чем на 400 миллисекунд. По умолчанию такого ограничения нет. При установке данного параметра следует помнить, что ограничение на время сборки может приводить к       необходимости выполнять ее чаще, в результате чего будет страдать общая пропускная способность.
   С помощью опции  вы можете указать желаемый порог пропускной способности (отношения времени работы программы ко времени сборки мусора). Например, при JVM будет пытаться выполнять сборки таким образом, чтобы они суммарно               занимали не больше 2% времени работы программы (отношение времени сборки ко времени работы программы будет .
4. -XX:YoungGenerationSizeIncrement=? и -XX:TenuredGenerationSizeIncrement=? устанавливают, на сколько процентов следует при необходимости увеличивать младшее и старшее поколение соотвественно. По умолчанию оба этих параметра равны 20.
5. -XX:AdaptiveSizeDecrementScaleFactor указывает, во сколько раз уменьшение должно быть меньше увеличения.
   Эта опция распространяется на оба поколения. Например, при  каждое уменьшение поколения будет в        два раза меньше, чем его увеличение (то есть оба поколения будут уменьшаться на 10%                                                                                                    при  и ).

####Concurrent Mark Sweep(CMS)
Так как подходы к организации памяти у CMS аналогичны используемым в Serial / Parallel GC, для него применимы те же опции определения размеров регионов кучи, а также опции автоматической подстройки под требуемые параметры производительности.
Обычно CMS, основываясь на собираемой статистике о поведении приложения, сам определяет, когда ему выполнять старшую сборку.

1. -XX:CMSInitiatingOccupancyFraction=? порог наполненности региона Tenured, при достижении которого должна обязательно быть                           инициирована старшая сборкa; значение указывается в процентах. Значение -1 (иногда устанавливается по умолчанию) указывает на                      отключение сборки по такому условию.

####Garbage First(G1)
G1 has options available for Serial and Parallel.

1. -XX:MaxGCPauseMillis=? задаает приемлемое для нас максимальное время разовой сборки мусора.
2. -XX:ParallelGCThreads=? и -XX:ConcGCThreads=? и  задают количество потоков, которые будут использоваться для сборки мусора и для                      выполнения   цикла пометок соответственно.
3. -XX:G1HeapRegionSize=? задаёт размера региона. 
   Значение должно быть степенью двойки, если мерить в мегабайтах. Например, .
4. -XX:InitiatingHeapOccupancyPercent=? изменить порог заполненности кучи, при достижении которого инициируется выполнение
   цикла пометок и переход в режим смешанных сборок.
   По умолчанию, этот порог равен 45%.
